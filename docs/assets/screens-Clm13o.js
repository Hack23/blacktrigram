import{j as t,r as f}from"./react-vendor-dWzucQ.js";import{W as P}from"./pixi-core-llF4J-.js";import{K as e,T as A}from"./game-core-B0hT0L.js";import"./korean-data-DMmgpQ.js";import{S as K,a as W,G as v,C as H,F as B}from"./pixi-scene-Cngq3_.js";import{e as $}from"./vendor-CmOGjt.js";import{u as q,A as g}from"./audio-HHboB6.js";const N=({x:o=0,y:a=0,text:s,width:d,height:x,variant:T="primary",onClick:l,disabled:c=!1,testId:u,"data-testid":h,screenWidth:b=0,screenHeight:y=0})=>{const j=b,r=h??u,[S,C]=f.useState(!1),k=f.useMemo(()=>{const R=j<768,n=j>=768&&j<1024;return R?12:n?14:16},[j]),p=f.useCallback(()=>{if(c)return e.UI_DISABLED_BG;switch(T){case"primary":return e.PRIMARY_CYAN;case"secondary":return e.UI_STEEL_GRAY;case"accent":return e.ACCENT_GOLD;case"ghost":return e.TRANSPARENT;case"danger":return e.NEGATIVE_RED;default:return e.PRIMARY_CYAN}},[T,c]);return t.jsxs("pixiContainer",{x:o,y:a,"data-testid":r,onClick:l,children:[t.jsx("pixiGraphics",{draw:R=>{R.clear();const n=p(),M=S?.8:.6;R.fill({color:n,alpha:M}),R.roundRect(0,0,d||120,x||40,8),R.fill(),R.stroke({width:2,color:c?e.UI_DISABLED_BORDER:e.ACCENT_GOLD,alpha:.8}),R.roundRect(0,0,d||120,x||40,8),R.stroke()},interactive:!c,onPointerOver:()=>!c&&C(!0),onPointerOut:()=>C(!1),onPointerDown:()=>!c&&l?.()}),t.jsx("pixiText",{text:s,style:{fontSize:k,fill:c?e.UI_DISABLED_TEXT:e.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:(d||120)/2,y:(x||40)/2,anchor:.5,"data-testid":`${r}-text`})]})},D=({x:o=0,y:a=0,children:s,testId:d,"data-testid":x,screenWidth:T,screenHeight:l})=>{const c=x??d;return t.jsx("pixiContainer",{x:o,y:a,"data-testid":c,children:s})},I=({x:o=0,y:a=0,title:s,children:d,width:x=200,height:T=150,testId:l,"data-testid":c,screenWidth:u,screenHeight:h})=>{const b=c??l;return t.jsxs("pixiContainer",{x:o,y:a,"data-testid":b,children:[t.jsx("pixiGraphics",{draw:y=>{y.clear(),y.fill({color:e.UI_BACKGROUND_MEDIUM,alpha:.9}),y.roundRect(0,0,x,T,8),y.fill(),y.stroke({width:2,color:e.ACCENT_GOLD,alpha:.8}),y.roundRect(0,0,x,T,8),y.stroke()}}),s&&t.jsx("pixiText",{text:s,"data-testid":`${b}-title`,style:{fontSize:14,fill:e.ACCENT_GOLD,fontWeight:"bold"},x:10,y:-20}),t.jsx("pixiContainer",{x:0,y:25,children:d})]})},F={[A.GEON]:{korean:"건",english:"Heaven",symbol:"☰",color:e.TRIGRAM_GEON_PRIMARY,description:"직접적인 골격 타격",englishDescription:"Direct bone-striking force"},[A.TAE]:{korean:"태",english:"Lake",symbol:"☱",color:e.TRIGRAM_TAE_PRIMARY,description:"유동적인 관절 조작",englishDescription:"Fluid joint manipulation"},[A.LI]:{korean:"리",english:"Fire",symbol:"☲",color:e.TRIGRAM_LI_PRIMARY,description:"정밀한 신경 타격",englishDescription:"Precise nerve strikes"},[A.JIN]:{korean:"진",english:"Thunder",symbol:"☳",color:e.TRIGRAM_JIN_PRIMARY,description:"기절시키는 기술",englishDescription:"Stunning techniques"},[A.SON]:{korean:"손",english:"Wind",symbol:"☴",color:e.TRIGRAM_SON_PRIMARY,description:"지속적인 압박",englishDescription:"Continuous pressure"},[A.GAM]:{korean:"감",english:"Water",symbol:"☵",color:e.TRIGRAM_GAM_PRIMARY,description:"혈류 제한",englishDescription:"Blood flow restriction"},[A.GAN]:{korean:"간",english:"Mountain",symbol:"☶",color:e.TRIGRAM_GAN_PRIMARY,description:"방어적 반격",englishDescription:"Defensive counters"},[A.GON]:{korean:"곤",english:"Earth",symbol:"☷",color:e.TRIGRAM_GON_PRIMARY,description:"지상 기술",englishDescription:"Ground techniques"}},J=({stance:o,x:a,y:s,size:d=60,showDetails:x=!0,...T})=>{const l=F[o],c=d/2,u=f.useMemo(()=>Math.sin(Date.now()*.003)*.1+.9,[]);return t.jsxs(D,{x:a,y:s,screenWidth:d*2,screenHeight:x?d*1.8:d,"data-testid":`stance-indicator-${o}`,...T,children:[t.jsx("pixiGraphics",{draw:h=>{h.clear(),h.fill({color:l.color,alpha:.3*u}),h.circle(c,c,c+8),h.fill(),h.fill({color:l.color,alpha:.8}),h.circle(c,c,c),h.fill(),h.stroke({width:3,color:e.ACCENT_GOLD,alpha:.9}),h.circle(c,c,c),h.stroke(),h.stroke({width:2,color:e.TEXT_PRIMARY,alpha:.6}),h.circle(c,c,c-6),h.stroke()},"data-testid":`stance-circle-${o}`}),t.jsx("pixiText",{text:l.symbol,style:{fontSize:d*.4,fill:e.TEXT_PRIMARY,fontWeight:"bold",align:"center"},x:c,y:c,anchor:.5,"data-testid":`stance-symbol-${o}`}),x&&t.jsxs("pixiContainer",{x:0,y:d+10,"data-testid":`stance-details-${o}`,children:[t.jsx("pixiText",{text:`${l.korean} (${l.english})`,style:{fontSize:d*.2,fill:e.TEXT_PRIMARY,fontWeight:"bold",align:"center",fontFamily:"Noto Sans KR"},x:c,y:0,anchor:.5,"data-testid":`stance-name-${o}`}),t.jsx("pixiText",{text:l.description,style:{fontSize:d*.15,fill:e.TEXT_SECONDARY,align:"center",fontFamily:"Noto Sans KR",wordWrap:!0,wordWrapWidth:d*2},x:c,y:d*.25,anchor:.5,"data-testid":`stance-description-${o}`}),t.jsx("pixiText",{text:l.englishDescription,style:{fontSize:d*.12,fill:e.TEXT_TERTIARY,align:"center",fontStyle:"italic",wordWrap:!0,wordWrapWidth:d*2},x:c,y:d*.45,anchor:.5,"data-testid":`stance-description-english-${o}`})]}),t.jsx("pixiGraphics",{draw:h=>{h.clear(),h.fill({color:e.ACCENT_GREEN,alpha:.8*u}),h.circle(c+c*.7,c-c*.7,4),h.fill()},"data-testid":`stance-active-indicator-${o}`})]})};$({Container:H,Graphics:v,Text:W,Sprite:K});const V=({width:o,height:a,lighting:s="normal",animate:d=!0,...x})=>{const[T,l]=f.useState(null),[c,u]=f.useState(null);f.useEffect(()=>{let r=!1;return(async()=>{try{const[C,k]=await Promise.all([P.load("/src/assets/visual/bg/dojang/dojang_floor_tex.png"),P.load("/src/assets/visual/bg/dojang/dojang_wall_tex.png")]);r||(l(C),u(k))}catch{}})(),()=>{r=!0}},[]);const h=f.useCallback(r=>{switch(r){case"dim":return{backgroundAlpha:.7,gridAlpha:.2,accentAlpha:.3,ambientColor:e.UI_BACKGROUND_DARK,tintColor:4473924};case"bright":return{backgroundAlpha:1,gridAlpha:.5,accentAlpha:.7,ambientColor:e.UI_BACKGROUND_LIGHT,tintColor:16777215};case"cyberpunk":return{backgroundAlpha:.95,gridAlpha:.4,accentAlpha:.8,ambientColor:e.NEON_CYAN,tintColor:65535};case"traditional":return{backgroundAlpha:.9,gridAlpha:.3,accentAlpha:.6,ambientColor:e.KOREAN_RED,tintColor:11176038};default:return{backgroundAlpha:.9,gridAlpha:.3,accentAlpha:.4,ambientColor:e.UI_BACKGROUND_DARK,tintColor:16777215}}},[]),b=f.useCallback(r=>{r.clear();const S=h(s);r.fill({color:S.ambientColor,alpha:S.backgroundAlpha}),r.rect(0,0,o,a),r.fill()},[o,a,s,h]),y=f.useCallback(r=>{r.clear();const S=h(s);r.stroke({width:1,color:s==="cyberpunk"?e.NEON_CYAN:e.ACCENT_GOLD,alpha:S.gridAlpha});const C=60;for(let n=0;n<o;n+=C)r.moveTo(n,0),r.lineTo(n,a);for(let n=0;n<a;n+=C)r.moveTo(0,n),r.lineTo(o,n);r.stroke();const k=s==="cyberpunk"?e.NEON_PURPLE:s==="traditional"?e.KOREAN_BLUE:e.PRIMARY_CYAN;r.stroke({width:3,color:k,alpha:.6}),r.circle(o/2,a/2,Math.min(o,a)*.2),r.stroke();const p=40,R=s==="cyberpunk"?e.NEON_PINK:s==="traditional"?e.KOREAN_RED:e.ACCENT_GOLD;r.fill({color:R,alpha:S.accentAlpha}),r.rect(0,0,p,p),r.rect(o-p,0,p,p),r.rect(0,a-p,p,p),r.rect(o-p,a-p,p,p),r.fill(),s==="cyberpunk"&&(r.stroke({width:2,color:e.NEON_CYAN,alpha:.8}),r.moveTo(0,a*.25),r.lineTo(o,a*.25),r.moveTo(0,a*.75),r.lineTo(o,a*.75),r.stroke(),r.fill({color:e.NEON_PURPLE,alpha:.2}),r.circle(o/2,a/2,Math.min(o,a)*.1),r.fill()),s==="traditional"&&(r.stroke({width:4,color:e.KOREAN_BLUE,alpha:.6}),r.rect(20,20,o-40,a-40),r.stroke(),r.fill({color:e.KOREAN_BLACK,alpha:.3}),r.circle(o/2,a/2,30),r.fill(),r.fill({color:e.KOREAN_WHITE,alpha:.3}),r.arc(o/2,a/2,30,0,Math.PI),r.fill())},[o,a,s,h]),j=h(s);return t.jsxs("pixiContainer",{...x,children:[T?t.jsx("pixiSprite",{texture:T,x:0,y:0,width:o,height:a,alpha:j.backgroundAlpha,tint:j.tintColor,"data-testid":"dojang-floor-texture"}):t.jsx("pixiGraphics",{draw:b,"data-testid":"dojang-fallback-background"}),c&&s==="traditional"&&t.jsx("pixiSprite",{texture:c,x:o*.8,y:0,width:o*.3,height:a,alpha:.3,tint:j.tintColor,"data-testid":"dojang-wall-texture"}),t.jsx("pixiGraphics",{draw:y,"data-testid":"dojang-overlay"})]})},Y=({winner:o,matchStatistics:a,onReturnToMenu:s,onRestart:d,width:x,height:T})=>{const{isMobile:l}=f.useMemo(()=>({isMobile:x<768}),[x]);return t.jsxs(D,{screenWidth:x,screenHeight:T,"data-testid":"end-screen",children:[t.jsx("pixiGraphics",{draw:c=>{c.clear();const u=new B(0,0,x,T);u.addColorStop(0,657935),u.addColorStop(.5,1710638),u.addColorStop(1,986915),c.fill(u),c.rect(0,0,x,T),c.fill()}}),t.jsxs("pixiContainer",{x:x/2,y:l?60:100,"data-testid":"victory-title",children:[t.jsx("pixiText",{text:"승리! - Victory!",style:{fontSize:l?32:48,fill:e.ACCENT_GOLD,fontWeight:"bold",align:"center"},anchor:.5}),t.jsx("pixiText",{text:`${o.name.korean} (${o.name.english})`,style:{fontSize:l?20:28,fill:e.PRIMARY_CYAN,align:"center"},x:0,y:l?40:60,anchor:.5})]}),t.jsxs(I,{title:"전투 통계 - Match Statistics",x:x/2-(l?x*.45:200),y:l?150:200,width:l?x*.9:400,height:l?250:300,screenWidth:x,screenHeight:T,"data-testid":"match-statistics",children:[t.jsx("pixiText",{text:`경기 시간: ${Math.floor(a.matchDuration/60)}:${(a.matchDuration%60).toString().padStart(2,"0")}`,style:{fontSize:l?12:14,fill:e.TEXT_PRIMARY},x:20,y:40}),t.jsx("pixiText",{text:`총 라운드: ${a.totalRounds}`,style:{fontSize:l?12:14,fill:e.TEXT_PRIMARY},x:20,y:60}),t.jsx("pixiText",{text:`치명타: ${a.criticalHits}`,style:{fontSize:l?12:14,fill:e.SECONDARY_MAGENTA},x:20,y:80}),t.jsx("pixiText",{text:`급소 공격: ${a.vitalPointHits}`,style:{fontSize:l?12:14,fill:e.ACCENT_CYAN},x:20,y:100}),t.jsx("pixiText",{text:`완벽한 일격: ${a.perfectStrikes}`,style:{fontSize:l?12:14,fill:e.ACCENT_GOLD},x:20,y:120}),t.jsx("pixiText",{text:`사용된 기술: ${a.techniquesUsed}`,style:{fontSize:l?12:14,fill:e.TEXT_SECONDARY},x:20,y:140}),t.jsx("pixiText",{text:"승자 세부 정보 - Winner Details",style:{fontSize:l?14:16,fill:e.ACCENT_GOLD,fontWeight:"bold"},x:20,y:170}),t.jsx("pixiText",{text:`유형: ${o.archetype}`,style:{fontSize:l?12:14,fill:e.TEXT_PRIMARY},x:20,y:195}),t.jsx("pixiText",{text:`최종 체력: ${o.health}/${o.maxHealth}`,style:{fontSize:l?12:14,fill:e.PRIMARY_CYAN},x:20,y:215})]}),t.jsxs(D,{x:x/2,y:T-(l?100:120),screenWidth:x,screenHeight:T,"data-testid":"end-screen-actions",children:[t.jsx(N,{text:"다시 시작 - Restart",x:-(l?100:120),y:0,width:l?90:110,height:l?40:50,screenWidth:x,screenHeight:T,variant:"primary",onClick:d,"data-testid":"restart-button"}),t.jsx(N,{text:"메뉴로 - Menu",x:20,y:0,width:l?90:110,height:l?40:50,screenWidth:x,screenHeight:T,variant:"secondary",onClick:s,"data-testid":"return-menu-button"})]}),t.jsx("pixiContainer",{x:x/2,y:T-(l?40:50),"data-testid":"end-screen-footer",children:t.jsx("pixiText",{text:"흑괘의 길을 완주하셨습니다 - You have completed the Path of the Black Trigram",style:{fontSize:l?10:12,fill:e.TEXT_SECONDARY,align:"center",fontStyle:"italic"},anchor:.5})})]})},se=Object.freeze(Object.defineProperty({__proto__:null,EndScreen:Y,default:Y},Symbol.toStringTag,{value:"Module"}));$({Container:H,Graphics:v,Text:W});const L=o=>{const{width:a=0,height:s=0,player:d,onPlayerUpdate:x,onReturnToMenu:T,x:l=0,y:c=0}=o,u=q(),[h,b]=f.useState(A.GEON),[y,j]=f.useState(!1),[r,S]=f.useState("basics"),[C,k]=f.useState({techniquesExecuted:0,perfectStrikes:0,totalDamage:0,sessionTime:0,attempts:0}),[p,R]=f.useState({health:100,maxHealth:100,position:{x:a*.7,y:s*.5},isActive:!0}),{isMobile:n}=f.useMemo(()=>({isMobile:a<768}),[a]);f.useEffect(()=>{let i;return y&&(i=setInterval(()=>{k(m=>({...m,sessionTime:m.sessionTime+1}))},1e3)),()=>{i&&clearInterval(i)}},[y]);const M=f.useCallback(()=>{if(p.isActive)try{const i=Math.random()*20+10,m=Math.random()>.7,E=m?i*1.5:i;R(_=>({..._,health:Math.max(0,_.health-E)})),k(_=>({..._,techniquesExecuted:_.techniquesExecuted+1,attempts:_.attempts+1,perfectStrikes:m?_.perfectStrikes+1:_.perfectStrikes,totalDamage:_.totalDamage+E}));try{m?u.playSFX("perfect_strike"):u.playSFX("attack_medium")}catch{}try{x({experiencePoints:(d.experiencePoints||0)+(m?15:10),health:d.health,stamina:Math.max(0,d.stamina-5),balance:d.balance,consciousness:d.consciousness,pain:d.pain})}catch{}p.health-E<=0&&setTimeout(()=>{R(_=>({..._,health:_.maxHealth}))},2e3)}catch{}},[p,u,x,d]),G=f.useCallback(i=>{b(i),x({currentStance:i}),u.playSFX("stance_change")},[x,u]),X=f.useCallback(()=>{j(!y),y?u.playSFX("match_end"):(k({techniquesExecuted:0,perfectStrikes:0,totalDamage:0,sessionTime:0,attempts:0}),u.playSFX("match_start"))},[y,u]),z=f.useCallback(()=>{R(i=>({...i,health:i.maxHealth})),u.playSFX("ki_charge")},[u]),U=f.useCallback(()=>{u.playSFX("menu_select")},[u]),O=f.useCallback(i=>({[A.GEON]:{korean:"건",technique:"천둥벽력"},[A.TAE]:{korean:"태",technique:"유수연타"},[A.LI]:{korean:"리",technique:"화염지창"},[A.JIN]:{korean:"진",technique:"벽력일섬"},[A.SON]:{korean:"손",technique:"선풍연격"},[A.GAM]:{korean:"감",technique:"수류반격"},[A.GAN]:{korean:"간",technique:"반석방어"},[A.GON]:{korean:"곤",technique:"대지포옹"}})[i]||{korean:"Unknown",technique:"Unknown"},[]),w=Object.values(A);return t.jsxs(D,{x:l,y:c,screenWidth:a,screenHeight:s,"data-testid":"training-screen",children:[t.jsx(V,{width:a,height:s,lighting:"normal",animate:!0,"data-testid":"dojang-background"}),t.jsx("pixiContainer",{x:a/2,y:30,"data-testid":"training-header",children:t.jsx("pixiText",{text:"흑괘 무술 도장",style:{fontSize:n?20:24,fill:e.ACCENT_GOLD,fontWeight:"bold",align:"center"},anchor:.5,"data-testid":"training-title"})}),t.jsx("pixiContainer",{"data-testid":"training-area",children:t.jsx("pixiGraphics",{draw:i=>{i.clear(),i.stroke({width:1,color:e.ACCENT_GOLD,alpha:.2});const m=n?40:60;for(let E=0;E<a;E+=m)i.moveTo(E,0),i.lineTo(E,s);for(let E=0;E<s;E+=m)i.moveTo(0,E),i.lineTo(a,E);i.stroke(),i.stroke({width:3,color:e.PRIMARY_CYAN,alpha:.5}),i.circle(a*.5,s*.6,Math.min(a,s)*.15),i.stroke()},"data-testid":"training-grid"})}),t.jsxs(I,{title:"수련 모드 선택",x:n?10:20,y:n?60:80,width:n?a*.45:250,height:n?100:120,screenWidth:a,screenHeight:s,"data-testid":"training-mode-stances",children:[t.jsx("pixiText",{text:"훈련 모드:",style:{fontSize:n?10:12,fill:e.TEXT_PRIMARY},x:10,y:10,"data-testid":"mode-title"}),t.jsx(N,{text:"기초",x:10,y:30,width:60,height:25,screenWidth:a,screenHeight:s,variant:r==="basics"?"primary":"secondary",onClick:()=>S("basics"),"data-testid":"mode-basics"}),t.jsx(N,{text:"고급",x:80,y:30,width:60,height:25,screenWidth:a,screenHeight:s,variant:r==="advanced"?"primary":"secondary",onClick:()=>S("advanced"),"data-testid":"mode-advanced"}),t.jsx(N,{text:"자유",x:150,y:30,width:60,height:25,screenWidth:a,screenHeight:s,variant:r==="free"?"primary":"secondary",onClick:()=>S("free"),"data-testid":"mode-free"}),t.jsx("pixiText",{text:`현재 모드: ${r}`,style:{fontSize:n?8:10,fill:e.TEXT_SECONDARY},x:10,y:65,"data-testid":"training-mode-display"})]}),t.jsxs("pixiContainer",{x:a*.25,y:s*.5,"data-testid":"training-player",children:[t.jsx("pixiGraphics",{draw:i=>{i.clear(),i.fill({color:e.PRIMARY_CYAN,alpha:.8}),i.circle(0,-40,15),i.rect(-8,-25,16,40),i.rect(-6,15,5,25),i.rect(1,15,5,25),i.rect(-15,-20,10,5),i.rect(5,-20,10,5),i.fill(),i.stroke({width:2,color:e.ACCENT_GOLD,alpha:.6}),i.circle(0,-40,15),i.rect(-8,-25,16,40),i.stroke(),y&&(i.fill({color:e.ACCENT_GREEN,alpha:.3}),i.circle(0,0,50),i.fill())},scale:{x:n?.8:1,y:n?.8:1}}),t.jsx("pixiText",{text:d.name.korean,style:{fontSize:n?12:14,fill:e.TEXT_PRIMARY,align:"center",fontWeight:"bold"},x:0,y:-80,anchor:.5})]}),t.jsxs(D,{x:p.position.x,y:p.position.y,screenWidth:a,screenHeight:s,"data-testid":"training-dummy-container",children:[t.jsx("pixiGraphics",{draw:i=>{i.clear(),i.fill({color:e.UI_BACKGROUND_MEDIUM,alpha:.8}),i.roundRect(-30,-60,60,120,10),i.fill(),i.fill({color:e.UI_BACKGROUND_LIGHT,alpha:.9}),i.circle(0,-80,25),i.fill(),i.stroke({width:2,color:e.ACCENT_GOLD,alpha:.6}),i.circle(0,-80,15),i.circle(0,-40,10),i.circle(0,-10,8),i.circle(0,20,12),i.stroke(),p.health<p.maxHealth&&(i.fill({color:e.ACCENT_RED,alpha:.4}),i.circle(0,0,40),i.fill())},interactive:!0,onPointerDown:M,"data-testid":"training-dummy"}),t.jsx("pixiGraphics",{draw:i=>{i.clear(),i.fill({color:e.UI_BACKGROUND_DARK,alpha:.8}),i.rect(-40,-100,80,8),i.fill();const m=p.health/p.maxHealth;i.fill({color:m>.5?e.ACCENT_GREEN:m>.25?e.ACCENT_GOLD:e.ACCENT_RED,alpha:.9}),i.rect(-40,-100,80*m,8),i.fill(),i.stroke({width:1,color:e.ACCENT_GOLD,alpha:.8}),i.rect(-40,-100,80,8),i.stroke()}}),t.jsx("pixiText",{text:`${Math.ceil(p.health)}/${p.maxHealth}`,style:{fontSize:n?10:12,fill:e.TEXT_PRIMARY,align:"center"},x:0,y:-115,anchor:.5})]}),t.jsx(D,{"data-testid":"training-trigram-wheel",x:1050,y:650,children:w.map(i=>t.jsx("pixiContainer",{"data-testid":`trigram-stance-${i}`,interactive:!0,onPointerDown:()=>G(i),children:t.jsx("pixiText",{text:i,style:{fontSize:14,fill:e.TEXT_PRIMARY},anchor:.5})},i))}),t.jsxs("pixiContainer",{x:a-(n?120:150),y:s-(n?200:220),"data-testid":"stance-selection",children:[t.jsx("pixiText",{text:"자세 선택",style:{fontSize:n?10:12,fill:e.TEXT_SECONDARY,align:"center"},anchor:.5}),t.jsx(N,{text:"건",x:-40,y:20,width:25,height:25,screenWidth:a,screenHeight:s,variant:h===A.GEON?"primary":"secondary",onClick:()=>G(A.GEON),"data-testid":"stance-geon-button"})]}),t.jsx(J,{stance:h,x:n?a/2:a*.25,y:s-(n?120:140),"data-testid":"current-stance-indicator"}),t.jsxs(I,{title:"훈련 제어",x:n?10:20,y:n?200:220,width:n?a*.45:250,height:n?140:180,screenWidth:a,screenHeight:s,"data-testid":"training-controls",children:[t.jsx(N,{text:y?"훈련 정지":"훈련 시작",x:10,y:10,width:n?a*.35:200,height:35,screenWidth:a,screenHeight:s,variant:y?"secondary":"primary",onClick:X,"data-testid":"start-training-button"}),y&&t.jsx(N,{text:`${O(h).technique} 실행`,x:10,y:55,width:n?a*.35:200,height:35,screenWidth:a,screenHeight:s,variant:"primary",onClick:M,"data-testid":"execute-technique-button"}),t.jsx(N,{text:"더미 리셋",x:10,y:100,width:n?a*.35:200,height:30,screenWidth:a,screenHeight:s,variant:"secondary",onClick:z,"data-testid":"reset-dummy-button"}),t.jsx(N,{text:"평가",x:10,y:140,width:n?a*.35:200,height:30,screenWidth:a,screenHeight:s,variant:"secondary",onClick:U,"data-testid":"evaluate-button"})]}),t.jsxs(I,{title:"훈련 통계",x:a-(n?a*.45+10:270),y:n?200:220,width:n?a*.45:250,height:n?140:180,screenWidth:a,screenHeight:s,"data-testid":"training-stats-panel",children:[t.jsx("pixiText",{text:"훈련 통계",style:{fontSize:n?10:12,fill:e.ACCENT_GOLD,fontWeight:"bold"},x:10,y:-5,"data-testid":"stats-title"}),t.jsx("pixiText",{text:`시도: ${C.attempts}`,style:{fontSize:n?10:12,fill:e.TEXT_PRIMARY},x:10,y:15,"data-testid":"attempts-count"}),t.jsx("pixiText",{text:`기술 실행: ${C.techniquesExecuted}`,style:{fontSize:n?10:12,fill:e.TEXT_PRIMARY},x:10,y:35}),t.jsx("pixiText",{text:`완벽한 타격: ${C.perfectStrikes}`,style:{fontSize:n?10:12,fill:e.ACCENT_GREEN},x:10,y:55}),t.jsx("pixiText",{text:`총 데미지: ${Math.ceil(C.totalDamage)}`,style:{fontSize:n?10:12,fill:e.ACCENT_GOLD},x:10,y:75}),t.jsx("pixiText",{text:`세션 시간: ${Math.floor(C.sessionTime/60)}:${String(C.sessionTime%60).padStart(2,"0")}`,style:{fontSize:n?10:12,fill:e.TEXT_SECONDARY},x:10,y:95,"data-testid":"session-time"}),t.jsx("pixiText",{text:`현재 자세: ${O(h).korean}`,style:{fontSize:n?10:12,fill:e.PRIMARY_CYAN,fontWeight:"bold"},x:10,y:115}),t.jsx("pixiText",{text:`경험치: ${d.experiencePoints||0}`,style:{fontSize:n?10:12,fill:e.ACCENT_CYAN},x:10,y:135}),t.jsx("pixiText",{text:"계속 연습하세요!",style:{fontSize:n?8:10,fill:e.TEXT_SECONDARY,fontStyle:"italic"},x:10,y:155,"data-testid":"feedback-message"})]}),t.jsx(N,{text:"메뉴로 돌아가기",x:n?a/2-80:a/2-100,y:s-(n?40:50),width:n?160:200,height:n?30:40,screenWidth:a,screenHeight:s,variant:"secondary",onClick:T,"data-testid":"return-to-menu-button"}),y&&t.jsxs("pixiContainer",{x:a/2,y:50,"data-testid":"training-status",children:[t.jsx("pixiGraphics",{draw:i=>{i.clear(),i.fill({color:e.ACCENT_GREEN,alpha:.8}),i.roundRect(-60,-15,120,30,8),i.fill()}}),t.jsx("pixiText",{text:"훈련 중",style:{fontSize:n?14:16,fill:e.BLACK_SOLID,fontWeight:"bold",align:"center"},anchor:.5})]})]})},Q=o=>t.jsx(g,{children:t.jsx(L,{...o,width:o.width,height:o.height})}),oe=Object.freeze(Object.defineProperty({__proto__:null,TrainingScreen:L,default:Q},Symbol.toStringTag,{value:"Module"}));export{V as D,se as E,D as R,J as S,oe as T,I as a,N as b};
